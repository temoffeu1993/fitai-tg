* { box-sizing: border-box; }

@font-face {
  font-family: "SF Pro Display";
  src: url("./assets/fonts/SF-Pro-Display-Semibold.otf") format("opentype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* Глобальные переменные и единый градиент */
:root {
  color-scheme: only light;

  /* Telegram theme vars — оставляем */
  --tg-theme-bg-color: #f5f6fb;
  --tg-theme-secondary-bg-color: #ffffff;
  --tg-theme-header-bg-color: #f3f4f6;
  --tg-theme-bottom-bar-bg-color: #ffffff;

  --app-height: 100vh;
  --app-height-stable: 100vh;

  /* ЕДИНЫЙ фон приложения. Меняешь только здесь */
  --app-gradient: linear-gradient(
    135deg,
    rgba(230, 231, 240, 0.22) 0%,
    rgba(210, 210, 220, 0.22) 50%,
    rgba(240, 240, 250, 0.22) 100%
  );
}

/* html/body прозрачные, без собственного фона */
html,
body {
  height: var(--app-height, 100vh);
  min-height: var(--app-height, 100vh);
  width: 100%;
  max-width: 100%;
  background: transparent !important;
  overflow: hidden;
  touch-action: none;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: #111;
  position: fixed;
  inset: 0;
}

/* Убираем серое моргание на всех button и интерактивных элементах */
button, a, [role="button"] {
  -webkit-tap-highlight-color: transparent !important;
  outline: none !important;
}

button:active, a:active, [role="button"]:active {
  opacity: 1 !important;
  background-color: inherit !important;
}

/* Мягкий tap-feedback для основных CTA (на мобильных) */
.tap-primary {
  -webkit-tap-highlight-color: transparent !important;
  touch-action: manipulation;
  user-select: none;
  transition: transform 160ms ease, filter 160ms ease, box-shadow 160ms ease;
}
.tap-primary:active:not(:disabled) {
  transform: translateY(1px) scale(0.99) !important;
  filter: brightness(0.99) !important;
  box-shadow: 0 6px 12px rgba(0,0,0,0.14) !important;
}
@media (hover: hover) {
  .tap-primary:hover:not(:disabled) {
    filter: brightness(1.03);
  }
}
.tap-primary:focus-visible {
  outline: 3px solid rgba(15, 23, 42, 0.18);
  outline-offset: 2px;
}

/* Специальный класс для полного отключения tap эффектов */
.no-tap-effect {
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
  outline: none !important;
  transition: none !important;
  /* АГРЕССИВНАЯ блокировка любых изменений */
  -webkit-appearance: none !important;
  appearance: none !important;
}
.no-tap-effect:active,
.no-tap-effect:focus,
.no-tap-effect:hover,
.no-tap-effect:focus-visible {
  background: rgba(255,255,255,0.6) !important;
  opacity: 1 !important;
  transform: none !important;
  filter: none !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08) !important;
  /* Блокируем ВСЕ возможные изменения */
  border: 1px solid rgba(0,0,0,0.08) !important;
  backdrop-filter: blur(8px) !important;
}

/* Фон всего приложения — только здесь */
#root {
  min-height: 100%;
  max-height: 100%;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;

  /* инерция и мягкий overscroll */
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain;
  overscroll-behavior-x: none;
  scroll-behavior: smooth;

  /* фиксируем фон, чтобы не мигал при скролле/раскрытии */
  background: var(--app-gradient) !important;
  background-attachment: fixed;

  touch-action: pan-y;
}

/* только нижняя подушка для плавности */
#root::after {
  content: "";
  display: block;
  height: 24px;
}

h2,h3 { margin:12px 0; }
button { cursor:pointer; }

/* только фиксы производительности без затемнения */
.glass, .heroCard, .chipSquare {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: transform;
}

/* v3.1 gradient refresh */
