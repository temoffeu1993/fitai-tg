// Типы движений и шаблоны тренировок

// Типы движений для подбора упражнений
export type MovementPattern =
  // ТОЛКАЮЩИЕ (PUSH)
  | "horizontal_press"      // Горизонтальный жим (грудь)
  | "incline_press"         // Наклонный жим (верх груди)
  | "decline_press"         // Жим под отрицательным углом
  | "overhead_press"        // Жим вверх (плечи)
  | "dips"                  // Отжимания на брусьях
  
  // ТЯНУЩИЕ (PULL)
  | "horizontal_pull"       // Горизонтальная тяга (середина спины)
  | "vertical_pull"         // Вертикальная тяга (широчайшие)
  | "deadlift"             // Становая тяга
  | "row"                  // Тяга к поясу
  
  // НОГИ
  | "squat_pattern"        // Приседания
  | "hip_hinge"            // Тазовый шарнир (румынка, становая)
  | "lunge_pattern"        // Выпады
  | "hip_thrust"           // Толчки бедром (ягодицы)
  | "leg_extension"        // Разгибание ног
  | "leg_curl"             // Сгибание ног
  | "calf_raise"           // Подъем на носки
  
  // ИЗОЛЯЦИЯ ВЕРХ
  | "lateral_raise"        // Махи в стороны (плечи)
  | "front_raise"          // Махи вперед (плечи)
  | "rear_delt_fly"        // Разводки на задние дельты
  | "chest_fly"            // Разводки на грудь
  | "triceps_extension"    // Разгибания на трицепс
  | "triceps_pushdown"     // Жим вниз на трицепс
  | "biceps_curl"          // Подъем на бицепс
  | "hammer_curl"          // Молотковые подъемы
  
  // ИЗОЛЯЦИЯ НИЗ
  | "glute_isolation"      // Изоляция ягодиц (отведения и т.п.)
  | "adductor"             // Приведение бедра
  | "abductor"             // Отведение бедра
  
  // КОР И ФУНКЦИОНАЛЬНЫЕ
  | "core_anti_extension"  // Планки, rollouts
  | "core_anti_rotation"   // Боковые планки, паллоф-пресс
  | "core_flexion"         // Скручивания
  | "carry"                // Переноски (farmer's walk и т.п.)
  
  // КАРДИО/CONDITIONING
  | "cardio_steady"        // Ровное кардио
  | "cardio_intervals"     // Интервальное кардио
  | "metabolic_circuit";   // Метаболические круги

export type ExerciseType = "compound" | "isolation" | "cardio";
export type IntensityLevel = "light" | "moderate" | "heavy";
export type TrainingTempo = "controlled" | "explosive" | "slow" | "mixed";

// Структура одного блока упражнений в тренировке
export type ExerciseBlock = {
  name: string;                    // Название блока (для понимания)
  movementPattern: MovementPattern; // Тип движения
  targetMuscles: string[];         // Целевые мышцы
  exerciseType: ExerciseType;      // Тип упражнения
  sets: number;                    // Количество подходов
  reps: string;                    // Диапазон повторений (например "6-8")
  rest: number;                    // Отдых в секундах
  intensity: IntensityLevel;       // Интенсивность
  tempo?: string;                  // Темп (например "3010")
  notes?: string;                  // Заметки для AI
  alternatives?: MovementPattern[]; // Альтернативные паттерны на случай травмы
};

// Особенности стиля тренировки
export type TrainingStyle = {
  tempo: TrainingTempo;            // Общий темп тренировки
  restBetweenExercises?: number;   // Отдых между упражнениями (если отличается)
  supersets?: number[][];          // Массив пар индексов для суперсетов [[0,1], [2,3]]
  circuit?: boolean;               // Круговая тренировка
  dropsets?: number[];             // Индексы упражнений с дропсетами
  pyramids?: number[];             // Индексы упражнений с пирамидами
  restPause?: number[];            // Индексы упражнений с rest-pause
};

// Правила адаптации тренировки
export type AdaptationRules = {
  canReduce: {
    minExercises: number;          // Минимум упражнений при облегчении
    minSets: number;               // Минимум подходов при облегчении
    minIntensity: IntensityLevel;  // Минимальная интенсивность
  };
  skipConditions: {
    painLevel: number;             // Уровень боли для пропуска (1-10)
    sleepHours: number;            // Минимум часов сна (меньше = пропуск)
    multipleIssues: boolean;       // Пропускать если несколько проблем
  };
  fallbackFocus?: string;          // Альтернативный фокус (например "legs" если верх нельзя)
  requiredRecoveryHours?: number;  // Минимум часов восстановления
};

// Полный шаблон дня тренировки
export type DayTemplate = {
  warmup: {
    duration: number;              // Длительность разминки (минуты)
    guidelines: string;            // Описание разминки
  };
  exerciseBlocks: ExerciseBlock[];
  cooldown: {
    duration: number;              // Длительность заминки (минуты)
    guidelines: string;            // Описание заминки
  };
  totalExercises: number;          // Всего упражнений
  totalSets: number;               // Всего подходов
  estimatedDuration: number;       // Ожидаемая длительность (минуты)
  trainingStyle: TrainingStyle;
  adaptationRules: AdaptationRules;
};

// База упражнений по типам движений
export const MOVEMENT_PATTERNS_DB: Record<MovementPattern, string[]> = {
  // ТОЛКАЮЩИЕ
  horizontal_press: [
    "Жим лёжа",
    "Жим гантелей горизонтально",
    "Жим в машине Смита горизонтально",
    "Отжимания с весом",
    "Жим в тренажере на грудь"
  ],
  incline_press: [
    "Жим на наклонной 30°",
    "Жим гантелей на наклонной",
    "Жим в машине Смита на наклонной",
    "Жим в тренажере наклон"
  ],
  decline_press: [
    "Жим на отрицательном наклоне",
    "Жим гантелей на отрицательном наклоне"
  ],
  overhead_press: [
    "Жим стоя",
    "Жим сидя",
    "Жим гантелей вверх",
    "Армейский жим",
    "Жим в машине Смита вертикально"
  ],
  dips: [
    "Отжимания на брусьях",
    "Отжимания на брусьях в тренажере",
    "Отжимания от скамьи"
  ],
  
  // ТЯНУЩИЕ
  horizontal_pull: [
    "Тяга штанги к поясу",
    "Тяга гантелей к поясу",
    "Тяга блока к поясу сидя",
    "Тяга Т-грифа",
    "Тяга в тренажере"
  ],
  vertical_pull: [
    "Подтягивания",
    "Подтягивания широким хватом",
    "Тяга верхнего блока",
    "Подтягивания с резинкой",
    "Тяга верхнего блока узким хватом"
  ],
  deadlift: [
    "Становая тяга классическая",
    "Становая тяга сумо",
    "Становая тяга с плинтов"
  ],
  row: [
    "Тяга штанги в наклоне",
    "Тяга гантелей в наклоне",
    "Тяга блока к поясу"
  ],
  
  // НОГИ
  squat_pattern: [
    "Приседания со штангой на спине",
    "Фронтальные приседания",
    "Приседания с гантелями",
    "Приседания в машине Смита",
    "Гоблет-приседания",
    "Приседания в тренажере"
  ],
  hip_hinge: [
    "Румынская тяга",
    "Румынская тяга с гантелями",
    "Гудморнинг",
    "Тяга с гирей",
    "Наклоны со штангой"
  ],
  lunge_pattern: [
    "Выпады вперед",
    "Болгарские сплит-приседания",
    "Обратные выпады",
    "Выпады в ходьбе",
    "Выпады на месте с гантелями"
  ],
  hip_thrust: [
    "Ягодичный мост со штангой",
    "Толчки бедром в тренажере",
    "Ягодичный мост с гантелей",
    "Ягодичный мост одной ногой"
  ],
  leg_extension: [
    "Разгибание ног в тренажере",
    "Разгибание одной ноги в тренажере"
  ],
  leg_curl: [
    "Сгибание ног лежа",
    "Сгибание ног сидя",
    "Сгибание одной ноги стоя"
  ],
  calf_raise: [
    "Подъем на носки стоя",
    "Подъем на носки сидя",
    "Подъем на носки в тренажере"
  ],
  
  // ИЗОЛЯЦИЯ ВЕРХ
  lateral_raise: [
    "Махи гантелями в стороны",
    "Махи в кроссовере в стороны",
    "Махи с резиной в стороны",
    "Махи на заднюю дельту в тренажере"
  ],
  front_raise: [
    "Махи гантелями вперед",
    "Махи штангой вперед",
    "Махи в кроссовере вперед"
  ],
  rear_delt_fly: [
    "Разводки на заднюю дельту",
    "Обратные разводки в тренажере",
    "Тяга канатной рукояти к лицу"
  ],
  chest_fly: [
    "Разводки гантелей лежа",
    "Разводки в кроссовере",
    "Разводки в тренажере бабочка"
  ],
  triceps_extension: [
    "Французский жим",
    "Французский жим с гантелей",
    "Разгибания над головой"
  ],
  triceps_pushdown: [
    "Разгибания на блоке",
    "Разгибания с канатом",
    "Разгибания обратным хватом"
  ],
  biceps_curl: [
    "Подъем штанги на бицепс",
    "Подъем гантелей на бицепс",
    "Подъем на бицепс в тренажере",
    "Концентрированные подъемы"
  ],
  hammer_curl: [
    "Молотковые подъемы",
    "Молотковые подъемы с канатом",
    "Перекрестные молотковые подъемы"
  ],
  
  // ИЗОЛЯЦИЯ НИЗ
  glute_isolation: [
    "Отведения в тренажере",
    "Ягодичные отведения стоя",
    "Пожарный гидрант",
    "Kick-backs на блоке"
  ],
  adductor: [
    "Приведение в тренажере",
    "Приседания с резиной между ног"
  ],
  abductor: [
    "Отведение в тренажере",
    "Отведения с резиной"
  ],
  
  // КОР
  core_anti_extension: [
    "Планка",
    "Планка на предплечьях",
    "Rollout с роликом",
    "Планка на фитболе"
  ],
  core_anti_rotation: [
    "Боковая планка",
    "Паллоф-пресс",
    "Дровосек"
  ],
  core_flexion: [
    "Скручивания",
    "Скручивания на блоке",
    "Подъемы ног"
  ],
  carry: [
    "Прогулка фермера",
    "Прогулка с гантелями",
    "Прогулка с одной гантелей"
  ],
  
  // КАРДИО
  cardio_steady: [
    "Беговая дорожка",
    "Велотренажер",
    "Эллипс",
    "Гребной тренажер"
  ],
  cardio_intervals: [
    "Спринты на дорожке",
    "Интервалы на велотренажере",
    "Интервалы на эллипсе"
  ],
  metabolic_circuit: [
    "Бёрпи",
    "Jumping jacks",
    "Маунтин-клаймберы",
    "Прыжки на скакалке"
  ]
};

